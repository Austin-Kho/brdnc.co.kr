!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=137)}({137:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){this.group="",this.databaseName="",this.containerName="",this.$container="",this.urls={base:null},this.init=function(t,e,i){this.group=t,this.databaseName=e,$.extend(this.urls,i),this.containerName="__xe_container_DF_setting_"+t,this.$container=$("#"+this.containerName),this.$container.$form=this.$container.find(".__xe_add_form"),this.$container.$modal=this.$container.find(".__xe_df_modal"),this.$container.$modal.$body=this.$container.$modal.find(".modal-body"),this.attachEvent(),this.closeAll=function(){this.$container.$modal.xeModal("hide")}},this.attachEvent=function(){var t=this;this.$container.on("click",".__xe_btn_add",function(){t.$container.$modal.$body.html(t.formClone()),t.$container.$modal.xeModal("show");var e=t.$container.$modal.find(".dynamic-lang-editor-box");e.addClass("lang-editor-box"),langEditorBoxRender(e)}),this.$container.on("click",".__xe_btn_submit",function(){t.store(this)}),this.$container.on("click",".__xe_btn_close",function(){t.close(this)}),this.$container.on("click",".__xe_btn_edit",function(e){e.preventDefault(),t.closeAll(),t.edit(this)}),this.$container.on("click",".__xe_btn_delete",function(e){e.preventDefault(),t.destroy(this),t.closeAll()}),this.$container.on("change",".__xe_type_id",function(e){var i=($(this).val(),$(this).closest("form")),n=i.find('[name="skinId"]');n.find("option").remove(),n.prop("disabled",!0),t.getSkinOption(i)}),this.$container.on("change",".__xe_skin_id",function(e){var i=$(this).closest("form");t.getAdditionalConfigure(i)}),this.$container.on("click",".__xe_checkbox-config",function(t){var e=$(t.target);$(this).closest("form").find('[name="'+e.data("name")+'"]').val(1==e.prop("checked")?"true":"false")})},this.getFormContainer=function(t){return t.closest(".__xe_form_container")},this.close=function(t){$(t).closest("form").remove(),this.$container.$modal.xeModal("hide")},this.getList=function(){var t={group:this.group},e=this;XE.ajax({context:this.$container[0],type:"get",dataType:"json",data:t,url:this.urls.base}).done(function(t,i,n){e.$container.find("#df-tbody tr").remove();for(var o in t.list)e.addrow(t.list[o])})},this.formClone=function(){var t=this.$container.$form.clone().removeClass("__xe_add_form");return t.show(),t},this.addrow=function(t){var e=this.$container.find(".__xe_row").clone();e.removeClass("__xe_row"),e.addClass("__xe_row_"+t.id),e.data("id",t.id),e.find("td.__xe_column_id").html(t.id),e.find("td.__xe_column_label").html(t.label),e.find("td.__xe_column_typeName").html(t.typeName),e.find("td.__xe_column_skinName").html(t.skinName),e.find("td.__xe_column_use").html(1==t.use?"True":"False"),0!=this.$container.find(".__xe_tbody").find(".__xe_row_"+t.id).length?this.$container.find(".__xe_tbody").find(".__xe_row_"+t.id).replaceWith(e.show()):(this.removeRow(t.id),this.$container.find(".__xe_tbody").append(e.show()))},this.removeRow=function(t){this.$container.find(".__xe_tbody").find(".__xe_row_"+t).remove()},this.edit=function(t){var e=$(t).closest("tr"),i=e.data("id"),n=this.formClone();n.data("isEdit","1"),n.attr("action",this.urls.update),this.$container.$modal.$body.html(n),this.$container.$modal.xeModal("show");var o={group:this.group,id:i},a=this;XE.ajax({context:this.$container.$modal.$body[0],type:"get",dataType:"json",data:o,url:this.urls.getEditInfo,success:function(t){n.find('[name="id"]').val(t.config.id).prop("readonly",!0),n.find('[name="typeId"] option').each(function(){var e=$(this);e.val()!=t.config.typeId&&e.remove()});var e=n.find(".dynamic-lang-editor-box");e.data("lang-key",t.config.label),e.addClass("lang-editor-box"),langEditorBoxRender(e),n.find('[name="use"]').val(a.checkBox(t.config.use)?"true":"false"),n.find('[name="required"]').val(a.checkBox(t.config.required)?"true":"false"),n.find('[name="sortable"]').val(a.checkBox(t.config.sortable)?"true":"false"),n.find('[name="searchable"]').val(a.checkBox(t.config.searchable)?"true":"false"),n.find('[data-name="use"]').prop("checked",a.checkBox(t.config.use)),n.find('[data-name="required"]').prop("checked",a.checkBox(t.config.required)),a.getSkinOption(n)}})},this.checkBox=function(t){var e=!1;return void 0==t?e=!1:"false"==t?e=!1:"true"==t?e=!0:1==t&&(e=!0),e},this.destroy=function(t){if(!1!==confirm("이동작은 되돌릴 수 없습니다. 계속하시겠습니까?")){var e=$(t).closest("tr"),i=e.data("id"),n={group:this.group,databaseName:this.databaseName,id:i},o=this;XE.ajax({context:this.$container[0],type:"post",dataType:"json",data:n,url:this.urls.destroy,success:function(t){var e=t.id;t.id==t.updateid&&o.openStep("close"),o.removeRow(e)}})}},this.getSkinOption=function(t){var e=t.serialize(),i=this;t.find(".__xe_additional_configure").html(""),""!=t.find('[name="typeId"]').val()&&XE.ajax({context:this.$container.$modal.$body[0],type:"get",dataType:"json",data:e,url:this.urls.getSkinOption,success:function(e){i.skinOptions(t,e.skins,e.skinId)}})},this.skinOptions=function(t,e,i){var n=t.find('[name="skinId"]');n.find("option").remove();for(var o in e){var a=$("<option>").attr("value",o).text(e[o]);n.append(a)}void 0!=i&&""!=i&&n.val(i),n.prop("disabled",!1),this.getAdditionalConfigure(t)},this.getAdditionalConfigure=function(t){var e=t.serialize(),i=this;XE.ajax({context:this.$container.$modal.$body[0],type:"get",dataType:"json",data:e,url:this.urls.getAdditionalConfigure,success:function(e){i.setValidateRule(t,e.rules),t.find(".__xe_additional_configure").html(e.configure)}})},this.store=function(t){var e=this.$container.$modal.$body.find("form"),i=this;try{this.validateCheck(e)}catch(t){return}var n=e.serialize();XE.ajax({context:this.$container.$modal.$body[0],type:"post",dataType:"json",data:n,url:e.attr("action"),success:function(e){i.addrow(e),i.close(t)}})},this.setValidateRule=function(t,e){var i=XE.validator.getRuleName(t);void 0!=e&&void 0!=i&&XE.validator.setRules(i,e)},this.validateCheck=function(t){XE.validator.check(t)}};e.default=n;var o=new n;o.init(dynamicFieldData.group,dynamicFieldData.databaseName,dynamicFieldData.routes),o.getList()}});